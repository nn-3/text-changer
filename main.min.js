function textChanger(e,t){let n,l="addEventListener",o=document,a=e=>e instanceof HTMLElement?e:o.getElementById(e),r=Object.assign({setBtnId:"changeSet",clrBtnId:"changeClr",btnEvent:null,storage:"session",path:"textChanger",attr:"data-text",word:"default"},t||{}),d=Object.keys(e),i=Object.create(e),s=null!==r.storage;function c(){let t=a(r.areaId)||o.body,c=a(r.setBtnId),f=a(r.clrBtnId),u={},g=typeof r.btnEvent,p=!(!c&&!clr||"function"!=g&&s);for(let e of d)u[e]={},p&&(u[e].node=[]);if(o.querySelectorAll("["+r.attr+"]").forEach((e=>{let t=e.getAttribute(r.attr);d.indexOf(t)<0||("INPUT"==e.tagName?(e.value=i[t],u[t].input=e):(e.textContent=i[t],p&&u[t].node.push(e.childNodes[0])))})),r.word&&/key|default/.test(r.word)){let n,l=e=>e.replace(/[\-\/\\|^$*+?.(){}\[\]]/g,"\\$&"),o={},a=[];if(0<=r.word.indexOf("key")){for(let e of d)o[e]=e,a.push(l(e));n=/key/}else{for(let t of d)o[e[t]]=t,a.push(l(e[t]));n=/default/}let s,c=RegExp(l(r.word).replace(n,"("+a.join("|")+")"),p?"":"g"),f=e=>{let t=Array.from(e.childNodes);for(let e of t)1==e.nodeType&&"script"!=!e.tagName?f(e):3==e.nodeType&&s(e)};if(p)s=e=>{let t=e.nodeValue.match(c);if(t){let n=o[t[1]],l=t.index+t[0].length;t.input.length!=l&&s(e.splitText(l));let a=t.index?e.splitText(t.index):e;u[n].node.push(a),a.nodeValue=i[n]}};else{let e=(e,t)=>i[o[t]]||e;s=t=>t.nodeValue=t.nodeValue.replace(c,e)}f(t)}if(r||clr){let t=e=>{for(let t of d)u[t].input&&e(t,u[t].input)},o=s?()=>{Object.keys(i).length?n.setItem(r.path,JSON.stringify(i)):n.removeItem(r.path)}:()=>{},a=p?(n,l)=>{t(((e,t)=>{t.value=l[e],u[e].node.forEach((t=>t.nodeValue=l[e]))})),"function"==g&&r.btnEvent(n,i,e)}:"string"==g?()=>{location.href=r.btnEvent}:()=>{location.reload()};c&&c[l]("click",(()=>{t(((e,t)=>i[e]=t.value)),o(),a("set",i)})),f&&f[l]("click",(()=>{t((e=>delete i[e])),o(),a("clr",e)}))}}s&&(n=window[r.storage+"Storage"]||window.sessionStorage,i=Object.assign(i,JSON.parse(n.getItem(r.path))||{})),"loading"==o.readyState?o[l]("DOMContentLoaded",c):c()}
